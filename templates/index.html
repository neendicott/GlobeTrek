<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='output.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='leaflet.css') }}">
    <script src="{{ url_for('static', filename='leaflet.js') }}"></script>
    <title>GlobeTrek - Explore the World</title>
</head>
<body>
    <header class="bg-gray-900 text-red-500 p-4">
        <h1 class="text-3xl font-semibold">Welcome to GlobeTrek</h1>
        <p class="mt-2">Explore the world, mark your travels, and connect with friends!</p>
    </header>

    <nav class="bg-gray-800 text-white p-4">
        <ul class="flex">
            <li class="mr-4"><a href="#">Home</a></li>
            <li class="mr-4"><a href="#">Profile</a></li>
            <li class="mr-4"><a href="#">Friends</a></li>
            <li class="mr-4"><a href="#">Destinations</a></li>
        </ul>
    </nav>

    <section class="p-4">
        <h2 class="text-xl font-semibold mb-2">Your Travel Map</h2>
        <p>Click on the countries you've visited:</p>
        <div id="map" class="w-full h-64"></div> <!-- Create a map container -->

        <!-- Add your map here -->

        <!-- Add the "Undo" button -->
        <button id="undoButton" class="bg-red-500 text-white px-4 py-2 mt-2">Undo</button>
    </section>

    <!-- Add more sections for other features -->

    <footer class="bg-gray-900 text-white p-4 text-center">
        &copy; 2023 GlobeTrek. All rights reserved.
    </footer>

    <script>
        // Initialize the map
        var map = L.map('map').setView([51.505, -0.09], 2); // Set initial view coordinates and zoom level

        // Add a tile layer to the map
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19, // Set maximum zoom level
        }).addTo(map);

        var markers = []; // Array to store marker objects

        // Add a click event listener to the map
        map.on('click', function(event) {
            var lat = event.latlng.lat;
            var lng = event.latlng.lng;
            console.log('Clicked at: ' + lat + ', ' + lng);

            // Add a marker to the map
            var marker = L.marker([lat, lng]).addTo(map);
            markers.push(marker); // Store marker in the array
        });

        // Add a click event listener to the "Undo" button
        var undoButton = document.getElementById('undoButton');
        undoButton.addEventListener('click', function() {
            var lastMarker = markers.pop();
            if (lastMarker) {
                map.removeLayer(lastMarker);
            }
        });
    </script>
</body>
</html>
